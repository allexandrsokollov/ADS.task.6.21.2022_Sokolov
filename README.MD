Реализовать очередь с приоритетами на основе дерева (или классов Map / Set, построенных на основе дерева).